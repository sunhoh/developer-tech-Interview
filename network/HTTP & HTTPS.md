## HTTP
HyperText Transfer Protocol
<br>
인터넷 상에서 클라이언트와 서버가 자원을 주고 받을 때 쓰는 통신 규약

<br>

HTTP는 암호화가 되지 않은 평문 데이터를 전송하는 프로토콜이였기 때문에, HTTP로 주요한정보를 주고받으면 
제3자가 네트워크에서 신호를 가로채면 내용이 노출되는 보안 이슈가 존재한다.
이런 보안 문제를 해결해주는 프로토콜이 **'HTTPS'**

서버는 기본적으로 TCP 80포트에서 http연결을 기다린다.<br>
<br>


<br>

## HTTPS
HyperText Transfer Protocol Secure<br>
인터넷 상에서 정보를 SSL 프로토콜을통해 암호화해서 클라이언트와 서버가 자원을 주고 받을 때 쓰는 통신 규약

기본적으로 443포트<br>

대칭키 암호화와 비대칭키 암호화를 모두 사용하여 빠른 연산 속도와 안전성을 모두 얻는다.

HTTPS 연결 과정에서 먼저 서버와 클라이언트 간에 세션키를 교환한다. ( 여기서 세션키는 주고 받은 데이터를 암호화하기 위한 대칭키)

문제는 이 세션키를 클라이언트와 서버가 어떻게 교환할 것이냐 인데, 이 과정에서 비대칭키가 사용된다.

즉, 처음 연결을 성립하여 안전하게 세션키를 공유하는 과정에서 비대칭키가 사용되는것이고, 이후 데이터를 교환하는 과정에서 빠른 연산 속도를 위해 대칭키가 사용되는것


### HTTPS 통신 흐름
![HTTPS 통신 흐름](../network/img/https.png)


<br>

> 애플리케이션 서버를 만드는 기업은 HTTPS를 적용하기 위해 공개키와 개인키를 만든다.<br>
> 신뢰할 수 있는 CA 기업을 선택하고, 그 기업에게 내 공개키 관리를 부탁하며 계약을 한다.<br>
<br>
> CA 기업의 공개키는 브라우저에 인증기관의 공개키를 제공한다.
>
> CA란? : Certificate Authority로, 공개키를 저장해주는 신뢰성이 검증된 민간기업


1. 클라이언트가 서버에 요청을 보낸다. 
    - 클라이언트가 서버에 요청을 보내는 과정에서 HTTPS 요청인 경우, CA기업이 서버의 정보를 CA 기업의 개인키로 서명한다.
2. 서버는 비대칭키중 공개키(인증서)를 브라우저에게 전달한다.
3. 클라이언트는 이 인증서가 진짜인지 브라우저의 내장된 CA들의 정보를 통해 인증서를 검증한다.   
이후 클라이언트는 대칭키를 전달받은 공개키로 암호화해서 서버로 전달
    - CA 기업의 공개키는 브라우저가 이미 알고있다.   
    - 인증서의 서명이 유효하면, 클라이언트는 해당 서버를 신뢰하게 된다.
4. 서버는 암호화된 대칭키를 자신의 개인키로 복호화 하여 클라이언트와 동일한 대칭키를 획득한다.
5. 서버는 공개키로 암호화된 클라이언트의 대칭키를 서버에서 개인키로 복호화한다.


